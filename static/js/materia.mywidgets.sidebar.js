(function(){Namespace("Materia.MyWidgets").Sidebar=function(){var buildDefaultList,getWidgetByURL,prepare,search,showWidgetCatNumbers;return prepare=function(){return Materia.Widget.getWidgets(function(widgets){var found,selID,widget,_i,_len;if(buildDefaultList(widgets),window.location.hash){for(found=!1,selID=window.location.hash.substr(1),_i=0,_len=widgets.length;_len>_i;_i++)if(widget=widgets[_i],widget.id===selID){found=!0;break}return found?Materia.MyWidgets.SelectedWidget.setSelected(selID):Materia.MyWidgets.SelectedWidget.noAccess()}})},buildDefaultList=function(widgets){var bearded,len,rightSide;return bearded="undefined"!=typeof BEARD_MODE&&null!==BEARD_MODE&&BEARD_MODE===!0,bearded&&$("div[data-template=widget-list] .icon").addClass("bearded"),len=widgets.length,rightSide=$("section.directions"),0===len?Materia.MyWidgets.SelectedWidget.noWidgets():(rightSide.addClass("unchosen"),Materia.Widget.sortWidgets(),$(".courses").on("click",".widget",function(event){return event.preventDefault(),Materia.MyWidgets.SelectedWidget.setSelected($(this).attr("id").split("_")[1]),!1}),bearded&&$(".my_widgets aside .courses .course_list").css({overflow:"visible"})),Materia.Set.Throbber.stopSpin(".courses")},showWidgetCatNumbers=function(){return $(".widget_list").each(function(){return $(this).prev().addClass("widget_list_category")})},search=function(searchString){return Materia.Widget.getWidgets(function(widgets){var $hits,hits,len,len2,match,misses,term,terms,widget,_i,_j,_len,_len1;for(searchString=$.trim(searchString.toLowerCase().replace(/,/g," ")),hits=[],misses=[],terms=searchString.split(" "),len=widgets.length,len2=terms.length,_i=0,_len=widgets.length;_len>_i;_i++){for(widget=widgets[_i],match=!1,_j=0,_len1=terms.length;_len1>_j;_j++){if(term=terms[_j],!(widget.searchCache.indexOf(term)>-1)){match=!1;break}match=!0}match?hits.push(widget.element):misses.push(widget.element)}return $hits=$(hits),Materia.TextFilter.renderSearch($hits,$(misses),"slide"),Materia.TextFilter.clearHighlights($(".widget")),$hits.each(function(){return Materia.TextFilter.highlight(searchString,$(this))}),Materia.TextFilter.zebraStripe()})},getWidgetByURL=function(){var newHash,tar,widgetID;return newHash=window.location.hash,widgetID=newHash.substr(1),newHash?(tar=$("#widget_"+widgetID),tar.length>0?tar.trigger("click"):Materia.MyWidgets.SelectedWidget.noAccess(),!1):!1},{prepare:prepare,showWidgetCatNumbers:showWidgetCatNumbers,search:search,getWidgetByURL:getWidgetByURL}}()}).call(this);